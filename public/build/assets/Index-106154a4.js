import{A as C}from"./App-7dabd08d.js";import{R as e,L as k,r as b,M as N,u as p,d as A}from"./app-d8299362.js";import"./index-1b7860ca.js";function F({links:t}){return e.createElement("div",null,e.createElement("nav",{"aria-label":"Page navigation example"},e.createElement("ul",{className:"pagination"},t.map((a,l)=>e.createElement("li",{key:l,className:`page-item ${a.active&&"active"} ${a.url===null&&"disabled"}`},e.createElement(k,{disabled:a.url===null,as:"button",className:"page-link",key:l,href:a.url,dangerouslySetInnerHTML:{__html:a.label}}))))))}function u({trigger:t,title:a,size:l="lg",children:n}){return e.createElement("div",{ref:t,className:"modal fade",tabIndex:-1},e.createElement("div",{className:`modal-dialog modal-${l} modal-dialog-centered`},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-header"},e.createElement("div",{className:"modal-title"},a),e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("div",{className:"modal-body"},n))))}function E(){const t=b.useRef(null);return[t,open=()=>new N(t.current).show(),close=()=>N.getInstance(t.current).hide()]}function v({errors:t,textSubmit:a,data:l,setData:n}){const m=r=>n({...l,[r.target.id]:r.target.value});return e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-2"},e.createElement("label",{htmlFor:"email",className:"form-label"},"Email"),e.createElement("input",{value:l.email,onChange:m,type:"text",name:"email",id:"email",className:"form-control"}),t&&e.createElement("div",{className:"text-danger mt-2"},t.email)),e.createElement("div",{className:"mb-2"},e.createElement("label",{htmlFor:"username",className:"form-label"},"Username"),e.createElement("input",{value:l.username,onChange:m,type:"text",name:"username",id:"username",className:"form-control"}),t&&e.createElement("div",{className:"text-danger mt-2"},t.username)),e.createElement("div",{className:"mb-2"},e.createElement("label",{htmlFor:"location",className:"form-label"},"Location"),e.createElement("input",{value:l.location,onChange:m,type:"text",name:"location",id:"location",className:"form-control"}),t&&e.createElement("div",{className:"text-danger mt-2"},t.location)),e.createElement("div",{className:"mb-2"},e.createElement("label",{htmlFor:"name",className:"form-label"},"Name"),e.createElement("input",{value:l.name,onChange:m,type:"text",name:"name",id:"name",className:"form-control"}),t&&e.createElement("div",{className:"text-danger mt-2"},t.name)),e.createElement("button",{type:"submit",className:"btn btn-primary"},a))}function z({close:t}){const a={name:"",email:"",username:"",location:"",password:""},{data:l,setData:n,post:m,reset:r,errors:s}=p(a),o=d=>{d.preventDefault(),m(route("users.store"),{data:l,onSuccess:()=>{r(),t()}})};return e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header"},"Edit Users"),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:o},e.createElement(v,{setData:n,data:l,errors:s,textSubmit:"Create"}))))}function I({close:t,user:a}){const l={name:a.name,email:a.email,username:a.username,location:a.location},{data:n,setData:m,put:r,reset:s,errors:o}=p(l),d=i=>{i.preventDefault(),r(route("users.update",a.id),{data:n,onSuccess:()=>{s(),t()}})};return b.useEffect(()=>{m({...n,name:a.name,email:a.email,username:a.username,location:a.location})},[a]),e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header"},"Edit Users"),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:d},e.createElement(v,{data:n,setData:m,errors:o,textSubmit:"Update"}))))}function L(t){const{data:a,links:l,from:n}=t.users,{canAddUser:m}=t,[r,s]=b.useState({}),[o,d,i]=E(),[g,f,h]=E(),[y,x,w]=E(),U=c=>{s(c),f()},D=c=>{s(c),x()},S=()=>{A.Inertia.delete(route("users.destroy",r.id),{onSuccess:()=>w()})};return e.createElement("div",{className:"container"},e.createElement(u,{size:"md",trigger:o,title:"Create New User"},e.createElement(z,{close:i})),e.createElement(u,{trigger:y,title:`Delete User: ${r.name}`},e.createElement("p",null,"Yakin?"),e.createElement("button",{onClick:S,type:"submit",className:"btn btn-danger"},"Delete")),e.createElement(u,{trigger:g,title:"Edit User"},e.createElement(I,{close:h,user:r})),m?e.createElement("button",{onClick:d,className:"btn btn-primary"},"Add"):e.createElement("p",{className:"text-danger"},"Kamu Tidak Diizinkan Menambah Pengguna"),e.createElement("div",{className:"card mt-3"},e.createElement("div",{className:"card-header"},"User"),e.createElement("div",{className:"card-body"},e.createElement("table",{className:"table"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"#"),e.createElement("th",null,"Name"),e.createElement("th",null,"Username"),e.createElement("th",null,"Email"),e.createElement("th",null,"Location"),e.createElement("th",{className:"text-end"},"Action"))),e.createElement("tbody",null,a.map((c,M)=>e.createElement("tr",{key:c.id},e.createElement("td",null,n+M),e.createElement("td",null,c.name),e.createElement("td",null,c.username),e.createElement("td",null,c.email),e.createElement("td",null,c.location),e.createElement("td",null,e.createElement("div",{className:"dropdown text-end"},e.createElement("button",{className:"btn p-0 ",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16"},e.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}))),e.createElement("ul",{className:"dropdown-menu"},e.createElement("li",null,e.createElement("button",{className:"dropdown-item",onClick:()=>U(c)},"Edit")),e.createElement("li",null,e.createElement("button",{className:"dropdown-item",onClick:()=>D(c)},"Delete"))))))))),e.createElement(F,{links:l}))))}L.layout=t=>e.createElement(C,{children:t,title:"users"});export{L as default};
